# **üìäDaily\_Habit\_and\_Goal\_Alarm\_System**

<br>

 **NAME**:   Pacifique HARERIMANA
 <br>
 **ID**:        26937
 <br>
 **CONCENTRATION**:   Software Engineering

---
<br>

<br>


## The documents in the main branch (Phase 2 to Phase 7) outline the complete system development of a personal habit and goal alarm system for tracking user routines, setting alarms, and storing logs.

---
<br>
<br>

---

# PHASE  1: *üß† PROBLEM STATEMENT: Daily Habit and Goal Alarm System*

<br>

### **‚ö° Background**

In today‚Äôs fast-paced world, staying consistent with good habits and personal goals is difficult. Many people struggle with self-discipline, forget to complete daily tasks, and fail to track their progress effectively. While mobile apps exist, they often lack personalized tracking, goal structuring, or the ability to store long-term progress in a secure and structured database.

<br>

### **üéØ Problem**

This project addresses the lack of effective tools for managing daily habits and long-term goals. Specific issues include:

* ‚ùå **Forgetting tasks** due to lack of reminders or alarms
* ‚ùå **No structured goal tracking** with progress history
* ‚ùå **No consolidated view** of habit frequency, completion, or failures
* ‚ùå **Manual logging** that is inefficient and error-prone

<br>

### **üòà Proposed Solution**

To solve the above problems, we propose a **Daily Habit and Goal Alarm System** that will:

* üßò Let users **define and manage daily habits** with frequency and status
* üèÜ Allow users to **create and track progress toward goals**
* ‚è∞ Enable **alarm setup** to trigger daily reminders for habits
* üìä Maintain **logs of completed or missed habits**
* ‚úÖ Provide **audit and restriction triggers** to block modifications during workdays or holidays

<br>

### **üé± Main Components (Entities)**

1. **Users** ‚Äì Registered individuals managing their habits and goals
2. **Habits** ‚Äì Repetitive tasks that users commit to follow
3. **Goals** ‚Äì Long-term achievements that users work toward
4. **Alarms** ‚Äì Notifications reminding users about daily tasks
5. **Habit Logs** ‚Äì Daily record of habit completion or failure
6. **Goal Status** ‚Äì Tracks progress updates and completion percentage for each goal


<br>
<br>

# PHASE 2: üíº *Business Process Modeling*

‚ö° ***Scope***: Creating a personal habit tracking and goal management platform.

üéØ ***Objectives***: Help users maintain routines, track goals, receive timely alarms, and store progress securely.

üß© ***Entities***: User, Habit, Goal, Alarm, Habit\_Log, Goal\_Status

üìà ***MIS Significance***: Enables personal productivity and wellness tracking using database automation and reporting.

<br>

![ChatGPT Image May 22, 2025, 06_34_36 PM](https://github.com/user-attachments/assets/d5df2d3e-8911-43c1-a647-bdf1c01555f4)


---

<br>
<br>

#  PHASE 3: ‚öôÔ∏è *Logical Model Design*

üóÉÔ∏è ***Entities***: User, Habit, Goal, Alarm, Habit\_Log, Goal\_Status

üîó ***Relationships***:

* One User to many Habits and Goals
* One Habit to one Alarm
* One Habit to many Habit\_Log entries
* One Goal to many Goal\_Status updates

üéØ ***Goal***: Provide a normalized, scalable, and relational database structure for user behavior tracking and automation.

<br>

![ChatGPT Image May 22, 2025, 07_58_09 PM](https://github.com/user-attachments/assets/6d58f591-735a-49a2-8d44-eb721137b574)

---
<br>
<br>

# PHASE 4: üß∞ *Creating the Database (Oracle SQL Developer)*

## üõ†Ô∏è Creation of Project Schema:

```sql
  CREATE PLUGGABLE DATABASE Thur_26937_Pacifique_Daily_habit_alarmS_db
  USING 'C:\ORACLE19CC\ORADATA\ORCLL\orcll.xml'
  COPY
  FILE_NAME_CONVERT = (
    'C:\ORACLE19CC\ORADATA\ORCLL\',
    'C:\ORACLE19CC\ORADATA\Thur_26937_Pacifique_Daily_habit_alarmS_db'
  );

GRANT CONNECT, RESOURCE, DBA TO Thur_26937_Pacifique_Daily_habit_alarmS_db;

ALTER USER Thur_26937_Pacifique_Daily_habit_alarmS_db ACCOUNT UNLOCK;
```

## üîß SQL Developer Configuration:

* Username: Thur\_26937\_Pacifique\_Daily\_habit\_alarmS\_db
* Password: Pacifique
* Host: localhost
* Port: 1521
* Service Name: orcll
<br>

![PHASE IV -- Database (PDB) Creation and Naming](https://github.com/user-attachments/assets/2df125be-b230-4383-a6c4-d831b6126ba3)


![connection](https://github.com/user-attachments/assets/bce092ed-3dc0-434d-b3b8-9aa3955bf7fc)



---

<br>
<br>


# PHASE 5: üß± *Table Implementation and Data Insertion*

## üßæ Table Creation

Tables implemented:

* users
* habit
* goal
* alarm
* habit\_log
* goal\_status

All constraints applied: PKs, FKs, NOT NULL, UNIQUE, CHECK.

```sql
-- Table Creation


-- USER TABLE
CREATE TABLE users (
    user_id      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username     VARCHAR2(50) UNIQUE NOT NULL,
    email        VARCHAR2(100) UNIQUE NOT NULL,
    password     VARCHAR2(100) NOT NULL,
    created_at   DATE DEFAULT SYSDATE
);

-- HABIT TABLE
CREATE TABLE habit (
    habit_id     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id      NUMBER REFERENCES users(user_id),
    title        VARCHAR2(100) NOT NULL,
    description  VARCHAR2(255),
    frequency    VARCHAR2(20) CHECK (frequency IN ('daily', 'weekly', 'monthly')),
    start_date   DATE,
    status       VARCHAR2(20) DEFAULT 'active' CHECK (status IN ('active', 'paused', 'completed'))
);

-- GOAL TABLE
CREATE TABLE goal (
    goal_id      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id      NUMBER REFERENCES users(user_id),
    title        VARCHAR2(100) NOT NULL,
    description  VARCHAR2(255),
    target_date  DATE,
    status       VARCHAR2(20) DEFAULT 'in-progress' CHECK (status IN ('in-progress', 'achieved', 'failed'))
);

-- ALARM TABLE
CREATE TABLE alarm (
    alarm_id     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    habit_id     NUMBER REFERENCES habit(habit_id),
    alarm_time   VARCHAR2(10), -- e.g., '08:00 AM'
    recurrence   VARCHAR2(20),
    is_active    CHAR(1) DEFAULT 'Y' CHECK (is_active IN ('Y', 'N'))
);

-- HABIT_LOG TABLE
CREATE TABLE habit_log (
    log_id       NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    habit_id     NUMBER REFERENCES habit(habit_id),
    log_date     DATE,
    status       VARCHAR2(20) CHECK (status IN ('completed', 'missed')),
    note         VARCHAR2(255)
);

-- GOAL_STATUS TABLE
CREATE TABLE goal_status (
    status_id            NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    goal_id              NUMBER REFERENCES goal(goal_id),
    update_date          DATE,
    progress_note        VARCHAR2(255),
    completion_percentage NUMBER(5,2) CHECK (completion_percentage BETWEEN 0 AND 100)
);

```

## ‚úçÔ∏è Data Insertion (Sample Data 7 rows per table)

Inserted realistic data for tracking workout, reading, and goal progress. Demonstrates user interaction and system automation.

```sql
-- USERS TABLE
INSERT INTO users (username, email, password)
VALUES 
('pacifique', 'pacifique@example.com', 'pass123');


INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Morning Workout', 'Cardio and strength', 'daily', SYSDATE - 6, 'active');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Reading', 'Read 30 pages daily', 'daily', SYSDATE - 5, 'active');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Coding Practice', 'LeetCode challenges', 'daily', SYSDATE - 4, 'active');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Journal Writing', 'Write thoughts', 'daily', SYSDATE - 3, 'paused');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Meditation', '10 minutes breathing', 'daily', SYSDATE - 2, 'completed');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Drink Water', '8 glasses daily', 'daily', SYSDATE - 1, 'active');
INSERT INTO habit (user_id, title, description, frequency, start_date, status) VALUES (1, 'Evening Walk', '15 mins after dinner', 'daily', SYSDATE, 'active');


INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Lose 5kg', 'Weight loss goal', SYSDATE + 60, 'in-progress');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Read 10 books', 'By end of term', SYSDATE + 90, 'in-progress');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Get Oracle Certified', 'Finish training + exam', SYSDATE + 45, 'in-progress');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Develop App', 'Build habit tracking app', SYSDATE + 70, 'in-progress');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Improve Sleep', 'Consistent sleep by 10pm', SYSDATE + 30, 'achieved');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Finish SQL Project', 'Capstone phase VIII', SYSDATE + 15, 'in-progress');
INSERT INTO goal (user_id, title, description, target_date, status) VALUES (1, 'Run 5km', 'Without stopping', SYSDATE + 40, 'in-progress');


INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (1, '06:30 AM', 'daily', 'Y');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (2, '08:00 PM', 'daily', 'Y');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (3, '07:00 AM', 'daily', 'Y');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (4, '09:30 PM', 'daily', 'N');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (5, '07:15 AM', 'daily', 'Y');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (6, '09:00 AM', 'daily', 'Y');
INSERT INTO alarm (habit_id, alarm_time, recurrence, is_active) VALUES (7, '06:00 PM', 'daily', 'Y');



INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (1, SYSDATE - 1, 'completed', 'Workout done');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (2, SYSDATE - 2, 'missed', 'Was too tired');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (3, SYSDATE - 1, 'completed', 'Solved 3 problems');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (4, SYSDATE - 3, 'missed', 'Forgot to journal');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (5, SYSDATE - 2, 'completed', 'Felt calm');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (6, SYSDATE - 1, 'completed', 'All 8 glasses done');
INSERT INTO habit_log (habit_id, log_date, status, note) VALUES (7, SYSDATE, 'completed', 'Walked 20 minutes');



INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (1, SYSDATE - 1, 'Lost 1kg', 20);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (2, SYSDATE - 2, '2 books done', 20);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (3, SYSDATE - 1, 'Completed 3 modules', 30);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (4, SYSDATE - 1, 'Wireframe complete', 15);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (5, SYSDATE - 3, 'Sleeping at 10:15pm', 90);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (6, SYSDATE - 1, 'Halfway through PL/SQL', 50);
INSERT INTO goal_status (goal_id, update_date, progress_note, completion_percentage) VALUES (7, SYSDATE, 'Ran 3km nonstop', 60);


```
Results:


![table users](https://github.com/user-attachments/assets/39271e5f-70ec-4f0b-bd3f-868132c56f20)


![table habit logs](https://github.com/user-attachments/assets/d7fa1800-3e03-4de0-866e-6b92a2ae4803)


![table goals](https://github.com/user-attachments/assets/42c011b1-a767-4478-ab53-a0e21539eb05)


![table goal status](https://github.com/user-attachments/assets/41a1b6b0-535a-465e-94b3-8447d44d117d)


![table alarm](https://github.com/user-attachments/assets/d2ad6af8-bcbc-4b80-a142-abe8d42b6272)


![table habit](https://github.com/user-attachments/assets/aad2b829-dff4-4fcb-a817-637e056aaca1)


---

<br>
<br>

# PHASE 6: üßÆ *Database Interaction and Transactions*

## ‚úèÔ∏è DML/DDL Examples

Performed: INSERT, UPDATE, DELETE, CREATE, ALTER, DROP

```sql
-- UPDATE
UPDATE goal
SET status = 'achieved'
WHERE goal_id = 5;

-- DELETE
DELETE FROM habit_log
WHERE status = 'missed';

```

Results:


![updating table goal](https://github.com/user-attachments/assets/b872f4a9-d6ef-45ee-a168-144870c92723)



![deleting data from table habit logs](https://github.com/user-attachments/assets/c8200ab7-f0ed-48ce-af26-4dc2490e29b8)

<br>

## üõéÔ∏è Stored Procedure

```sql
CREATE OR REPLACE PROCEDURE get_habit_logs (p_user_id IN NUMBER) IS
BEGIN
  FOR rec IN (
    SELECT h.title, l.log_date, l.status
    FROM habit h JOIN habit_log l ON h.habit_id = l.habit_id
    WHERE h.user_id = p_user_id
  ) LOOP
    DBMS_OUTPUT.PUT_LINE('Habit: ' || rec.title || ' | Date: ' || rec.log_date || ' | Status: ' || rec.status);
  END LOOP;
END;

-- calling it
EXEC get_habit_logs(1);
```
Result:


![procedure get habit logs result](https://github.com/user-attachments/assets/080130d0-f0c8-46a2-9423-5bbc4b089b47)

<br>

## üß† Function

```sql
CREATE OR REPLACE FUNCTION get_goal_completion (p_goal_id IN NUMBER) RETURN NUMBER IS
  v_percent NUMBER;
BEGIN
  SELECT completion_percentage INTO v_percent
  FROM goal_status
  WHERE goal_id = p_goal_id
  ORDER BY update_date DESC FETCH FIRST 1 ROWS ONLY;
  RETURN v_percent;
EXCEPTION
  WHEN NO_DATA_FOUND THEN RETURN 0;
END;

SELECT get_goal_completion(1) FROM dual;

```
Result:


![procedure get goal completion result](https://github.com/user-attachments/assets/f121219b-af3f-4475-80dd-a83a967bc7c0)

<br>

## üîÑ Cursor with Exception Handling

```sql
DECLARE
  CURSOR cur_habits IS SELECT title FROM habit WHERE user_id = 1;
  v_title habit.title%TYPE;
BEGIN
  OPEN cur_habits;
  LOOP
    FETCH cur_habits INTO v_title;
    EXIT WHEN cur_habits%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('Habit: ' || v_title);
  END LOOP;
  CLOSE cur_habits;
EXCEPTION WHEN OTHERS THEN
  DBMS_OUTPUT.PUT_LINE('Error: ' || SQLERRM);
END;
```
Result:


![cursor result](https://github.com/user-attachments/assets/c05ae97b-e5fa-4256-ae9d-f456c7741857)

<br>

## üì¶ Package

Includes procedure to log today's habit and function to count active habits.
```sql
CREATE OR REPLACE PACKAGE habit_pkg AS
  PROCEDURE log_today_habit(p_habit_id IN NUMBER, p_status IN VARCHAR2);
  FUNCTION active_habit_count(p_user_id IN NUMBER) RETURN NUMBER;
END habit_pkg;
/

CREATE OR REPLACE PACKAGE BODY habit_pkg AS

  PROCEDURE log_today_habit(p_habit_id IN NUMBER, p_status IN VARCHAR2) IS
  BEGIN
    INSERT INTO habit_log (habit_id, log_date, status)
    VALUES (p_habit_id, SYSDATE, p_status);
  END;

  FUNCTION active_habit_count(p_user_id IN NUMBER) RETURN NUMBER IS
    v_count NUMBER;
  BEGIN
    SELECT COUNT(*) INTO v_count FROM habit
    WHERE user_id = p_user_id AND status = 'active';
    RETURN v_count;
  END;

END habit_pkg;



--RUN 
EXEC habit_pkg.log_today_habit(1, 'completed');
SELECT habit_pkg.active_habit_count(1) FROM dual;



```
---
<br>
<br>

# PHASE 7: üïµÔ∏è *Advanced Database Programming and Auditing*

## üßæ Problem Statement

To prevent users from modifying data on weekdays or public holidays, and to log all critical actions.

## üìÖ Holiday Table and records

```sql
CREATE TABLE public_holidays (
  holiday_date DATE PRIMARY KEY,
  description VARCHAR2(100)
);

-- Insert example holidays
INSERT INTO public_holidays VALUES (TO_DATE('01-JUN-2025', 'DD-MON-YYYY'), 'National Heroes Day');
INSERT INTO public_holidays VALUES (TO_DATE('10-JUN-2025', 'DD-MON-YYYY'), 'Independence Day');
INSERT INTO public_holidays VALUES (TO_DATE('30-JUN-2025', 'DD-MON-YYYY'), 'Cultural Celebration');

```
Result:
![table public holidays](https://github.com/user-attachments/assets/bdf167ac-92b5-4767-a462-d160e848da24)

<br>

## üö´ Restriction Trigger

      Prevent Weekday and Holiday DML
      
```sql
CREATE OR REPLACE TRIGGER restrict_weekday_and_holiday_dml
BEFORE INSERT OR UPDATE OR DELETE ON habit
FOR EACH ROW
DECLARE
  v_day VARCHAR2(10);
  v_holiday NUMBER;
BEGIN
  SELECT TO_CHAR(SYSDATE, 'DY') INTO v_day FROM dual;
  SELECT COUNT(*) INTO v_holiday FROM public_holidays WHERE holiday_date = TRUNC(SYSDATE);
  IF v_day IN ('MON', 'TUE', 'WED', 'THU', 'FRI') OR v_holiday > 0 THEN
    RAISE_APPLICATION_ERROR(-20001, 'DML is blocked on weekdays and public holidays!');
  END IF;
END;
```
Result:


![trigger restriction](https://github.com/user-attachments/assets/c238cc58-df33-472a-8708-578cde67021e)

<br>

## üìã Auditing Table and Trigger

```sql
CREATE TABLE audit_log (
  audit_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id NUMBER,
  action_date DATE DEFAULT SYSDATE,
  operation VARCHAR2(50),
  status VARCHAR2(20)
);

CREATE OR REPLACE TRIGGER audit_habit_dml
AFTER INSERT OR UPDATE OR DELETE ON habit
FOR EACH ROW
BEGIN
  INSERT INTO audit_log (user_id, operation, status)
  VALUES (1, 'MODIFY HABIT', 'allowed');
END;


-- operations to test trigger trigger

INSERT INTO habit (user_id, title, description, frequency, start_date)
VALUES (2, 'Wake up early', 'Wake up by 5AM daily', 'daily', SYSDATE);

UPDATE habit SET status = 'paused' WHERE habit_id = 1;

DELETE FROM habit WHERE habit_id = 1;


--test
SELECT * FROM audit_log ORDER BY audit_id;

```
Result:

![testing trigger](https://github.com/user-attachments/assets/42f1ae3b-7649-441e-8437-ec26022efc37)


## üßæ Result Summary

* üö´ Security logic implemented with triggers
* üìÖ Public holiday awareness built into DML restrictions
* üïµÔ∏è Full audit log of changes to sensitive data

---


